{
  "name": "what-the-code",
  "displayName": "What-The-Code",
  "description": "A VSCode extension that lets you search your codebase using natural language powered by local Ollama AI (CodeLlama), like asking \"Where is user authentication handled?\" or \"Show me all useEffect hooks.\"",
  "version": "0.0.1",
  "engines": {
    "vscode": "^1.101.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "what-the-code.searchCode",
        "title": "Ask Your Code",
        "category": "What-The-Code"
      },
      {
        "command": "what-the-code.testExtension",
        "title": "Test Extension",
        "category": "What-The-Code"
      },
      {
        "command": "what-the-code.testOllama", 
        "title": "Test Ollama Connection",
        "category": "What-The-Code"
      },
      {
        "command": "what-the-code.testGemini", 
        "title": "Test Gemini Connection",
        "category": "What-The-Code"
      },
      {
        "command": "what-the-code.openSettings",
        "title": "Configure Ollama Settings",
        "category": "What-The-Code"
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "what-the-code",
          "title": "What-The-Code",
          "icon": "media/search.svg"
        }
      ]
    },
    "views": {
      "what-the-code": [
        {
          "id": "what-the-code-commands",
          "name": "Commands"
        }
      ]
    },
    "menus": {
      "view/title": [
        {
          "command": "what-the-code.searchCode",
          "when": "view == what-the-code-commands",
          "group": "navigation",
          "icon": "$(search)"
        }
      ]
    },
    "keybindings": [
      {
        "command": "what-the-code.searchCode",
        "key": "ctrl+shift+alt+k",
        "mac": "cmd+shift+alt+k"
      }
    ],
    "configuration": {
      "title": "What-The-Code",
      "properties": {
        "whatTheCode.ollamaEndpoint": {
          "type": "string",
          "default": "http://localhost:11434",
          "description": "Ollama server endpoint"
        },
        "whatTheCode.ollamaModel": {
          "type": "string",
          "default": "codellama:7b-instruct",
          "description": "Ollama model to use for code analysis",
          "enum": ["codellama:7b-instruct", "codellama:13b-instruct", "codellama:34b-instruct", "llama2:7b", "llama2:13b", "mistral:7b"]
        },
        "whatTheCode.aiProvider": {
          "type": "string",
          "default": "gemini",
          "description": "AI provider to use for code analysis",
          "enum": ["ollama", "gemini"],
          "enumDescriptions": ["Local Ollama server", "Google Gemini API"]
        },
        "whatTheCode.geminiApiKey": {
          "type": "string",
          "default": "",
          "description": "Gemini API key (get from https://aistudio.google.com/app/apikey)"
        },
        "whatTheCode.geminiModel": {
          "type": "string",
          "default": "gemini-1.5-flash",
          "description": "Gemini model to use for code analysis",
          "enum": ["gemini-1.5-flash", "gemini-1.5-pro", "gemini-pro"],
          "enumDescriptions": ["Fast and efficient", "Most capable", "Legacy model"]
        },
        "whatTheCode.maxFileSize": {
          "type": "number",
          "default": 50000,
          "description": "Maximum file size (in characters) to include in search"
        },
        "whatTheCode.includedExtensions": {
          "type": "array",
          "default": [".js", ".ts", ".jsx", ".tsx", ".py", ".java", ".cs", ".cpp", ".c", ".h", ".go", ".rs", ".php", ".rb", ".vue", ".svelte"],
          "description": "File extensions to include in code search"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "pretest": "npm run compile && npm run lint",
    "lint": "eslint src",
    "test": "vscode-test"
  },
  "devDependencies": {
    "@types/vscode": "^1.101.0",
    "@types/mocha": "^10.0.10",
    "@types/node": "20.x",
    "@typescript-eslint/eslint-plugin": "^8.31.1",
    "@typescript-eslint/parser": "^8.31.1",
    "eslint": "^9.25.1",
    "typescript": "^5.8.3",
    "@vscode/test-cli": "^0.0.10",
    "@vscode/test-electron": "^2.5.2"
  },
  "dependencies": {
    "axios": "^1.6.0"
  }
}

